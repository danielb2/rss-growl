#!/usr/bin/env ruby

require 'rss-growl'

abort 'growlnotify is not installed. Check https://github.com/indirect/growlnotify' unless Growl.installed?

Signal.trap("INT") { signal_trap }

def signal_trap
  exit
end


$0 = 'rss-growl-master'
cfg = RSSGrowl::Config.new
cfg.each do |name,settings|
  fork { RSSGrowl.new(settings['url'], :title => name, :interval => settings['interval']).run }
end

Process.wait if cfg.size > 0
